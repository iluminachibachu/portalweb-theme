/*
Theme Name: Portal Web Theme - 今日は何の日サイト
Description: モダンなPHP学習用WordPressテーマ
Author: Your Name
Version: 1.0.0
Requires at least: 6.0
Tested up to: 6.4
Requires PHP: 8.0
License: GPL v2 or later
Text Domain: portalweb
*/

/* ===== Reset & base ===== */
*,*::before,*::after{box-sizing:border-box}
html,body{height:100%}
body{margin:0;font-family:"Noto Sans JP", system-ui, -apple-system, Segoe UI, Roboto, "Hiragino Kaku Gothic ProN", Meiryo, sans-serif;line-height:1.6;color:#222;background:#fff;}
img{max-width:100%;display:block;height:auto}
a{color:#0b57d0;text-decoration:none}
a:hover{text-decoration:underline}
:root{
  --container: min(1100px, 92vw);
  --gap: 16px;
  --radius: 14px;
  --shadow: 0 2px 10px rgba(0,0,0,.06);
  --c-primary:#0b57d0;
  --c-muted:#6b7280;
  --c-border:#e5e7eb;
  --c-bg:#f8fafc;
  --c-paper:#ffffff;
}
.fs-small{font-size:15px}
.fs-medium{font-size:16px}
.fs-large{font-size:18px}

/* ===== Header ===== */
.site-header{position:sticky;top:0;z-index:30;background:linear-gradient(180deg,#ffffff 0%,#fafafa 100%);border-bottom:1px solid var(--c-border)}
.site-header__inner{display:flex;justify-content:space-between;align-items:center;gap:24px;width:var(--container);margin-inline:auto;padding:14px 0}
.brand{display:grid;grid-template-rows:auto auto;align-items:start}
.site-title{font-size:clamp(20px,2.4vw,28px);font-weight:800;letter-spacing:0.01em;margin:0}
.site-title a{color:inherit;text-decoration:none}
.brand-logo{inline-size:180px;block-size:auto;margin-top:6px}
.brand-logo img{filter:grayscale(0.1)}

.tools{display:flex;align-items:center;gap:12px}
.font-size{display:inline-flex;gap:6px;background:#f3f4f6;border:1px solid var(--c-border);border-radius:999px;padding:4px}
.font-size button{appearance:none;border:0;background:transparent;padding:6px 12px;border-radius:999px;font-weight:700;cursor:pointer}
.font-size button[aria-pressed="true"]{background:#fff;border:1px solid var(--c-border);box-shadow:var(--shadow)}
.font-size button:focus-visible{outline:2px solid #94bfff;outline-offset:2px}

/* ===== Layout ===== */
main{width:var(--container);margin:20px auto;padding-bottom:64px}
.grid-main{display:grid;grid-template-columns:minmax(0,1fr) clamp(280px,28vw,320px);gap:var(--gap);align-items:start}
.grid-main > *{min-width:0}
@media (max-width: 980px){
  .grid-main{grid-template-columns:1fr}
}

.card{background:var(--c-paper);border:1px solid var(--c-border);border-radius:var(--radius);box-shadow:var(--shadow);min-width:0}
.card__hd{padding:14px 16px;border-bottom:1px solid var(--c-border);font-weight:800}
.card__bd{padding:16px}

/* ===== Article & Calendar (left column) ===== */
.stack{display:grid;gap:var(--gap)}
.article h2{font-size:clamp(18px,2.2vw,24px);margin:0 0 8px}
.article .meta{color:var(--c-muted);font-size:.95em;margin-bottom:8px}
.article p{margin:8px 0}

.calendar{max-width:100%}
.calendar .month{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;border-bottom:1px solid var(--c-border)}
.calendar .month h3{margin:0;font-size:18px}
.calendar .dow, .calendar .day{display:grid;grid-template-columns:repeat(7,1fr)}
.calendar .dow{padding:8px 12px;color:var(--c-muted);font-weight:700;font-size:.95em}
.calendar .dow span{display:flex;justify-content:center}
.calendar .month-nav{padding:8px 12px;border-bottom:1px solid var(--c-border)}
.calendar .month-row{display:flex;justify-content:space-around;align-items:center;gap:4px}
.calendar .month-row + .month-row{margin-top:8px}
.calendar .month-num{margin:0;font-size:16px;font-weight:600;color:var(--c-muted);cursor:pointer;padding:4px 8px;border-radius:6px;transition:all 0.2s ease}
.calendar .month-num:hover{background:var(--c-bg);color:var(--c-primary)}
.calendar .month-num.active{background:var(--c-primary);color:#fff}
@media (min-width: 768px){
  .calendar .month-nav{padding:12px 16px}
  .calendar .month-row{display:flex;justify-content:space-between}
  .calendar .month-row + .month-row{margin-top:0}
  .calendar .month-nav{display:flex;gap:16px}
}
.calendar .grid{display:grid;grid-template-columns:repeat(7,1fr);gap:2px;padding:8px;min-width:0;overflow:hidden}
.calendar .cell{aspect-ratio:1/1;background:#fff;border:1px solid var(--c-border);border-radius:10px;padding:6px;display:flex;flex-direction:column;gap:4px}
.calendar .cell .n{font-weight:700}
.calendar .cell .tag{margin-top:auto;font-size:11px;color:#2563eb}
.calendar .cell.is-today{outline:2px solid #0ea5e9;box-shadow:0 0 0 3px rgba(14,165,233,.15) inset}
.calendar .cell.is-feature{background:#fff7ed;border-color:#fdba74}
/* outside-month days (前後月) */
.calendar .cell.is-outside{background:#fff;border-color:var(--c-border)}
.calendar .cell.is-outside .n{color:#9ca3af;font-size:.85em;font-weight:700}
.calendar .cell.is-outside .tag{color:#cbd5e1;font-size:.8em}

/* ===== Sidebar ===== */
.sidebar .section + .section{margin-top:var(--gap)}
.section__hd{font-weight:800;padding:10px 14px;border-bottom:1px solid var(--c-border)}
.section__bd{padding:12px 14px}
.list{list-style:none;margin:0;padding:0}
.list li+li{margin-top:8px}
.ad{display:grid;grid-template-columns:1fr;gap:10px}
.ad .box{display:grid;place-items:center;border:1px dashed #cbd5e1;border-radius:12px;padding:22px;color:#64748b;background:#f8fafc}

/* ===== Bottom row (search / topics buttons) ===== */
.bottom-row{display:grid;grid-template-columns:1fr;gap:var(--gap);margin-top:var(--gap)}
@media (min-width: 700px){.bottom-row{grid-template-columns:1fr 1fr}}
.btn{appearance:none;border:1px solid var(--c-border);background:#fff;padding:14px 18px;border-radius:12px;cursor:pointer;font-weight:800;display:flex;justify-content:center;gap:10px;align-items:center;box-shadow:var(--shadow)}
.btn:hover{background:#f9fafb}

/* ===== Footer ===== */
.site-footer{border-top:1px solid var(--c-border);margin-top:38px;background:var(--c-bg)}
.site-footer__inner{display:flex;align-items:center;gap:14px;width:var(--container);margin-inline:auto;padding:18px 0}
.footer-logo{inline-size:150px}

/* ===== Back to top fixed button ===== */
.to-top{position:fixed;right:18px;bottom:18px;z-index:50;inline-size:48px;block-size:48px;border-radius:999px;border:1px solid var(--c-border);background:#fff;box-shadow:var(--shadow);display:grid;place-items:center;font-size:20px;cursor:pointer}
.to-top:focus-visible{outline:2px solid #94bfff;outline-offset:2px}

/* ===== Dialog (modals) ===== */
dialog{border:1px solid var(--c-border);border-radius:16px;box-shadow:0 12px 40px rgba(0,0,0,.18);padding:0;max-width:min(680px, 92vw)}
dialog::backdrop{background:rgba(15,23,42,.35)}
.dlg__hd{padding:14px 16px;border-bottom:1px solid var(--c-border);font-weight:800}
.dlg__bd{padding:16px}
.dlg__ft{display:flex;justify-content:flex-end;gap:8px;padding:14px 16px;border-top:1px solid var(--c-border)}
.ipt{display:flex;gap:10px}
.ipt input[type="search"]{flex:1;padding:12px 14px;border-radius:10px;border:1px solid var(--c-border)}
.tag-cloud{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:8px}
.tag{display:inline-flex;align-items:center;justify-content:center;border:1px solid var(--c-border);border-radius:999px;padding:8px 12px;font-size:14px;background:#fff}
.btn-secondary{background:#f3f4f6}